<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bootstrap 4 Grid with Case Toggle</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<style>
		.card {
			margin-bottom: 20px;
		}
	</style>
</head>

<body>

	<div class="container mt-4">
		<h1 style="text-align: center;">Automagically change capitalization</h1>
		<p>The following words are exempted from case change: <em>to, the, a, and, of, in, on, at, by, for, with, but,
				or, nor</em></p>
		<button id="toggleCaseBtn" class="btn btn-primary mb-4">Toggle Heading Case</button>

		<div class="row">
			<!-- Generate 8 cards (2 columns x 4 rows) -->
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">dedicated to <span class="no-change">Mountaire</span></h2>
						<p class="card-text">This is a sample paragraph for demonstration purposes.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">a team in your corner</h2>
						<p class="card-text">This is another sample paragraph to illustrate the layout.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">customized participant communications</h2>
						<p class="card-text">This is additional text content to keep the layout balanced.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">award-winning digital experience</h2>
						<p class="card-text">More sample content for demonstrating the Bootstrap grid.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">service excellence and awards</h2>
						<p class="card-text">Another sample paragraph to illustrate different content.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">read our success stories</h2>
						<p class="card-text">Text for a simple Bootstrap 4 card layout.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">driving brighter outcomes</h2>
						<p class="card-text">Example text to showcase Bootstrap grid formatting.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">creating a better world to live and work</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">secure 2.0 act</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title">safeguarding sensitive information</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		let isTitleCase = false; // Toggle state

		const excludeWords = ["to", "the", "a", "and", "of", "in", "on", "at", "by", "for", "with", "but", "or", "nor"];

		function applySentenceCase() {
			document.querySelectorAll("h2").forEach(h2 => {
				h2.innerHTML = h2.innerHTML
					.split(/(<span class="no-change">.*?<\/span>|\s+)/) // Preserve spans & spaces
					.map((word, index) => {
						if (word.startsWith('<span')) {
							return word; // Keep manual words unchanged
						}
						return word.toLowerCase().replace(/(^\w|\.\s*\w)/g, match => match.toUpperCase());
					})
					.join(""); // Reassemble while keeping structure intact
			});
		}

		function applyTitleCase() {
			document.querySelectorAll("h2").forEach(h2 => {
				h2.innerHTML = h2.innerHTML
					.split(/(<span class="no-change">.*?<\/span>|\s+)/) // Preserve spans & spaces
					.map((word, index) => {
						if (word.startsWith('<span')) {
							return word; // Keep manual words unchanged
						}

						let lowerWord = word.toLowerCase().trim(); // Normalize for lookup

						return (index === 0 || !excludeWords.includes(lowerWord))
							? lowerWord.charAt(0).toUpperCase() + lowerWord.slice(1)
							: lowerWord;
					})
					.join(""); // Reassemble while keeping structure intact
			});
		}

		function toggleCase() {
			if (isTitleCase) {
				applySentenceCase();
			} else {
				applyTitleCase();
			}
			isTitleCase = !isTitleCase; // Toggle state
		}

		// Ensure Sentence Case is applied on page load
		document.addEventListener("DOMContentLoaded", applySentenceCase);
		document.getElementById("toggleCaseBtn").addEventListener("click", toggleCase);
	</script>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

</body>

</html>