<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bootstrap 4 Grid with Case Toggle</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<style>
		.card {
			margin-bottom: 20px;
		}
	</style>
</head>

<body>

	<div class="container mt-4">
		<h1 style="text-align: center;">Sentence case demo</h1>
		<p>The following words are exempted from case change: <em>to, the, a, and, of, in, on, at, by, for, with, but,
				or, nor</em></p>
		<p> <button onclick="transformCardText('title')">Title Case</button>
			<button onclick="transformCardText('sentence')">Sentence case</button>
		</p>

		<div class="row">
			<!-- Generate 8 cards (2 columns x 4 rows) -->
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">dedicated to Mountaire</h2>
						<p class="card-text">This is a sample paragraph for demonstration purposes.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">a team in your corner</h2>
						<p class="card-text">This is another sample paragraph to illustrate the layout.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">customized participant communications</h2>
						<p class="card-text">This is additional text content to keep the layout balanced.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">Award-Winning digital experience</h2>
						<p class="card-text">More sample content for demonstrating the Bootstrap grid.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">service excellence and awards</h2>
						<p class="card-text">Another sample paragraph to illustrate different content.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">read our success stories</h2>
						<p class="card-text">Text for a simple Bootstrap 4 card layout.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">driving brighter outcomes</h2>
						<p class="card-text">Example text to showcase Bootstrap grid formatting.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">creating a better world to live and work</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">secure 2.0 act</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="card">
					<img src="https://placehold.co/300x150" class="card-img-top" alt="Placeholder Image">
					<div class="card-body">
						<h2 class="card-title sentence-case">safeguarding sensitive information</h2>
						<p class="card-text">Final example of Bootstrap 4 content styling.</p>
						<button class="btn btn-secondary">Read More</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Add mutation observer to watch for class changes
		const observer = new MutationObserver((mutations) => {
			mutations.forEach((mutation) => {
				if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
					const element = mutation.target;
					if (element.classList.contains('title-case')) {
						element.textContent = toTitleCase(element.textContent);
					} else if (element.classList.contains('sentence-case')) {
						element.textContent = toSentenceCase(element.textContent);
					}
				}
			});
		});

		// Start observing all H2 elements
		document.querySelectorAll('h2').forEach(h2 => {
			observer.observe(h2, { attributes: true });

			// Initial transform based on existing classes
			if (h2.classList.contains('title-case')) {
				h2.textContent = toTitleCase(h2.textContent);
			} else if (h2.classList.contains('sentence-case')) {
				h2.textContent = toSentenceCase(h2.textContent);
			}
		});

		// Helper functions remain the same as before
		const excludedWords = new Set([
			'a', 'an', 'and', 'as', 'at', 'but', 'by', 'for', 'in', 'nor',
			'of', 'on', 'or', 'so', 'the', 'to', 'up', 'yet'
		]);

		// Words to preserve exact casing
		const preserveCasing = new Set([
			'Award-Winning',
			// Add more words here
		]);

		const properNouns = new Set([
			'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday',
			'January', 'February', 'March', 'April', 'May', 'June', 'July',
			'August', 'September', 'October', 'November', 'December'
		]);

		function toTitleCase(text) {
			return text.toLowerCase().split(' ').map((word, index) => {
				if (index === 0 || index === text.split(' ').length - 1) {
					return word.charAt(0).toUpperCase() + word.slice(1);
				}
				if (excludedWords.has(word.toLowerCase())) {
					return word.toLowerCase();
				}
				if (preserveCasing.has(word) || properNouns.has(word)) {
					return word;
				}
				return word.charAt(0).toUpperCase() + word.slice(1);
			}).join(' ');
		}

		function toSentenceCase(text) {
			const sentences = text.split(/([.!?]+\s+)/);
			return sentences.map(sentence => {
				if (sentence.trim().length === 0) return sentence;

				return sentence.split(' ').map((word, index) => {
					if (properNouns.has(word)) {
						return word;
					}
					if (index === 0) {
						return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
					}
					return word.toLowerCase();
				}).join(' ');
			}).join('');
		}
	</script>

	<!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script> -->

</body>

</html>